{"version":3,"file":"index.bundle.min.js","mappings":"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","sources":["webpack://Lightbox/webpack/bootstrap","webpack://Lightbox/webpack/runtime/define property getters","webpack://Lightbox/webpack/runtime/hasOwnProperty shorthand","webpack://Lightbox/external window \"bootstrap\"","webpack://Lightbox/./wwwroot/lib/bs5-lightbox/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"bootstrap\"];","/**\r\n * Lightbox for Bootstrap 5\r\n *\r\n * @file Creates a modal with a lightbox carousel.\r\n * @module bs5-lightbox\r\n */\r\n\r\nimport { Modal, Carousel } from \"bootstrap\";\r\nconst bootstrap = {\r\n\tModal,\r\n\tCarousel\r\n};\r\nclass Lightbox {\r\n\tconstructor(el, options = {}) {\r\n\t\tthis.hash = this.randomHash();\r\n\t\tthis.settings = Object.assign(Object.assign(Object.assign({}, bootstrap.Modal.Default), bootstrap.Carousel.Default), {\r\n\t\t\tinterval: false,\r\n\t\t\ttarget: '[data-toggle=\"lightbox\"]',\r\n\t\t\tgallery: \"\",\r\n\t\t\tsize: \"xl\",\r\n\t\t\tconstrain: true\r\n\t\t});\r\n\t\tthis.settings = Object.assign(Object.assign({}, this.settings), options);\r\n\t\tthis.modalOptions = (() => this.setOptionsFromSettings(bootstrap.Modal.Default))();\r\n\t\tthis.carouselOptions = (() => this.setOptionsFromSettings(bootstrap.Carousel.Default))();\r\n\t\tif (typeof el === \"string\") {\r\n\t\t\tthis.settings.target = el;\r\n\t\t\tel = document.querySelector(this.settings.target);\r\n\t\t}\r\n\t\tthis.el = el;\r\n\t\tthis.type = el.dataset.type || \"\";\r\n\r\n\t\tthis.src = this.getSrc(el);\r\n\t\tthis.sources = this.getGalleryItems();\r\n\t\tthis.createCarousel();\r\n\t\tthis.createModal();\r\n\t}\r\n\tshow() {\r\n\t\tdocument.body.appendChild(this.modalElement);\r\n\t\tthis.modal.show();\r\n\t}\r\n\thide() {\r\n\t\tthis.modal.hide();\r\n\t}\r\n\tsetOptionsFromSettings(obj) {\r\n\t\treturn Object.keys(obj).reduce((p, c) => Object.assign(p, { [c]: this.settings[c] }), {});\r\n\t}\r\n\tgetSrc(el) {\r\n\t\tlet src = el.dataset.src || el.dataset.remote || el.href || \"http://via.placeholder.com/1600x900\";\r\n\t\tif (el.dataset.type === \"html\") {\r\n\t\t\treturn src;\r\n\t\t}\r\n\t\tif (!/\\:\\/\\//.test(src)) {\r\n\t\t\tsrc = window.location.origin + src;\r\n\t\t}\r\n\t\tconst url = new URL(src);\r\n\t\tif (el.dataset.footer || el.dataset.caption) {\r\n\t\t\turl.searchParams.set(\"caption\", el.dataset.footer || el.dataset.caption);\r\n\t\t}\r\n\t\treturn url.toString();\r\n\t}\r\n\tgetGalleryItems() {\r\n\t\tlet galleryTarget;\r\n\t\tif (this.settings.gallery) {\r\n\t\t\tif (Array.isArray(this.settings.gallery)) {\r\n\t\t\t\treturn this.settings.gallery;\r\n\t\t\t}\r\n\t\t\tgalleryTarget = this.settings.gallery;\r\n\t\t} else if (this.el.dataset.gallery) {\r\n\t\t\tgalleryTarget = this.el.dataset.gallery;\r\n\t\t}\r\n\t\tconst gallery = galleryTarget\r\n\t\t\t? [...new Set(Array.from(document.querySelectorAll(`[data-gallery=\"${galleryTarget}\"]`), (v) => `${v.dataset.type ? v.dataset.type : \"\"}${this.getSrc(v)}`))]\r\n\t\t\t: [`${this.type ? this.type : \"\"}${this.src}`];\r\n\t\treturn gallery;\r\n\t}\r\n\tgetYoutubeId(src) {\r\n\t\tif (!src) return false;\r\n\t\tconst matches = src.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/);\r\n\t\treturn matches && matches[2].length === 11 ? matches[2] : false;\r\n\t}\r\n\tgetYoutubeLink(src) {\r\n\t\tconst youtubeId = this.getYoutubeId(src);\r\n\t\tif (!youtubeId) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst arr = src.split(\"?\");\r\n\t\tlet params = arr.length > 1 ? \"?\" + arr[1] : \"\";\r\n\t\t\r\n\t\treturn `https://www.youtube.com/embed/${youtubeId}${params}`;\r\n\t}\r\n\tgetInstagramEmbed(src) {\r\n\t\tif (/instagram/.test(src)) {\r\n\t\t\tsrc += /\\/embed$/.test(src) ? \"\" : \"/embed\";\r\n\t\t\treturn `<iframe src=\"${src}\" class=\"start-50 translate-middle-x\" style=\"max-width: 500px\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>`;\r\n\t\t}\r\n\t}\r\n\tisEmbed(src) {\r\n\t\tconst regex = new RegExp(\"(\" + Lightbox.allowedEmbedTypes.join(\"|\") + \")\");\r\n\t\tconst isEmbed = regex.test(src);\r\n\t\tconst isImg = /\\.(png|jpe?g|gif|svg|webp)/i.test(src) || this.el.dataset.type === \"image\";\r\n\r\n\t\treturn isEmbed || !isImg;\r\n\t}\r\n\tcreateCarousel() {\r\n\t\tconst template = document.createElement(\"template\");\r\n\t\tconst types = Lightbox.allowedMediaTypes.join(\"|\");\r\n\t\t\r\n\r\n\t\tconst slidesHtml = this.sources\r\n\t\t\t.map((src, i) => {\r\n\t\t\t\tsrc = src.replace(/\\/$/, \"\");\r\n\t\t\t\tconst regex = new RegExp(`^(${types})`, \"i\");\r\n\t\t\t\tconst isHtml = /^html/.test(src);\r\n\t\t\t\tconst isForcedImage = /^image/.test(src);\r\n\r\n\t\t\t\tif (regex.test(src)) {\r\n\t\t\t\t\tsrc = src.replace(regex, \"\");\r\n\t\t\t\t}\r\n\t\t\t\tconst imgClasses = this.settings.constrain ? \"mw-100 mh-100 h-auto w-auto m-auto top-0 end-0 bottom-0 start-0\" : \"h-100 w-100\";\r\n\t\t\t\tconst params = new URLSearchParams(src.split(\"?\")[1]);\r\n\t\t\t\tlet caption = \"\";\r\n\t\t\t\tlet url = src;\r\n\t\t\t\tif (params.get(\"caption\")) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\turl = new URL(src);\r\n\t\t\t\t\t\turl.searchParams.delete(\"caption\");\r\n\t\t\t\t\t\turl = url.toString();\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\turl = src;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcaption = `<div class=\"carousel-caption d-none d-md-block\" style=\"z-index:2\"><p class=\"bg-secondary rounded\">${params.get(\"caption\")}</p></div>`;\r\n\t\t\t\t}\r\n\t\t\t\tlet inner = `<img src=\"${url}\" class=\"d-block ${imgClasses} img-fluid\" style=\"z-index: 1; object-fit: contain;\" />`;\r\n\t\t\t\tlet attributes = \"\";\r\n\t\t\t\tconst instagramEmbed = this.getInstagramEmbed(src);\r\n\t\t\t\tconst youtubeLink = this.getYoutubeLink(src);\r\n\t\t\t\tif (this.isEmbed(src) && !isForcedImage) {\r\n\t\t\t\t\tif (youtubeLink) {\r\n\t\t\t\t\t\tsrc = youtubeLink;\r\n\t\t\t\t\t\tattributes = 'title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture\"';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinner = instagramEmbed || `<img src=\"${src}\" ${attributes} class=\"d-block w-100\" style=\"object-fit-cover;height:auto\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tif (isHtml) {\r\n\t\t\t\t\tinner = src;\r\n\t\t\t\t}\r\n\t\t\t\tconst spinner = `<div class=\"position-absolute top-50 start-50 translate-middle text-white\"><div class=\"spinner-border\" style=\"width: 3rem height: 3rem\" role=\"status\"></div></div>`;\r\n\t\t\t\treturn `\r\n\t\t\t\t<div class=\"carousel-item ${!i ? \"active\" : \"\"}\" style=\"min-height: 100px\">\r\n\t\t\t\t\t${spinner}\r\n\t\t\t\t\t<div class=\"ratio ratio-16x9\" style=\"background-color: #000;\">${inner}</div>\r\n\t\t\t\t\t${caption}\r\n\t\t\t\t</div>`;\r\n\t\t\t})\r\n\t\t\t.join(\"\");\r\n\r\n        const controlsHtml =\r\n            this.sources.length < 2\r\n                ? \"\"\r\n                : `\r\n\t\t\t<button id=\"#lightboxCarousel-${this.hash\r\n                }-prev\" class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#lightboxCarousel-${\r\n                this.hash}\" data-bs-slide=\"prev\">\r\n\t\t\t\t<span class=\"btn btn-secondary carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t<span class=\"visually-hidden\">Previous</span>\r\n\t\t\t</button>\r\n\t\t\t<button id=\"#lightboxCarousel-${this.hash\r\n                }-next\" class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#lightboxCarousel-${\r\n                this.hash}\" data-bs-slide=\"next\">\r\n\t\t\t\t<span class=\"btn btn-secondary carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t<span class=\"visually-hidden\">Next</span>\r\n\t\t\t</button>`;\r\n    \r\n\t\tlet classes = \"lightbox-carousel carousel slide\";\r\n\t\tif (this.settings.size === \"fullscreen\") {\r\n\t\t\tclasses += \" position-absolute w-100 translate-middle top-50 start-50\";\r\n\t\t}\r\n        const indicatorsHtml = `\r\n\t\t\t<div class=\"carousel-indicators\" style=\"bottom: -40px\">\r\n\t\t\t\t${this.sources.map((_, index) => `\r\n\t\t\t\t\t<button type=\"button\" data-bs-target=\"#lightboxCarousel-${this.hash}\" data-bs-slide-to=\"${index}\" class=\"${index === 0 ? \"active\" : \"\"}\" aria-current=\"${index === 0 ? \"true\" : \"false\"}\" aria-label=\"Slide ${index + 1}\"></button>\r\n\t\t\t\t`).join(\"\")}\r\n\t\t\t</div>`;\r\n\t\tconst html = `\r\n\t\t\t<div id=\"lightboxCarousel-${this.hash}\" class=\"${classes}\" data-bs-ride=\"carousel\" data-bs-interval=\"${this.carouselOptions.interval}\">\r\n\t\t\t    <div class=\"carousel-inner\">\r\n\t\t\t\t\t${slidesHtml}\r\n\t\t\t\t</div>\r\n\t\t\t    ${indicatorsHtml}\r\n\t\t\t\t${controlsHtml}\r\n\t\t\t</div>`;\r\n\t\ttemplate.innerHTML = html.trim();\r\n\t\tthis.carouselElement = template.content.firstChild;\r\n\t\tconst carouselOptions = Object.assign(Object.assign({}, this.carouselOptions), { keyboard: false });\r\n\t\tthis.carousel = new bootstrap.Carousel(this.carouselElement, carouselOptions);\r\n\t\tconst elSrc = this.type && this.type !== \"image\" ? this.type + this.src : this.src;\r\n\t\tthis.carousel.to(this.findGalleryItemIndex(this.sources, elSrc));\r\n\t\tif (this.carouselOptions.keyboard === true) {\r\n\t\t\tdocument.addEventListener(\"keydown\", (e) => {\r\n\t\t\t\tif (e.code === \"ArrowLeft\") {\r\n\t\t\t\t\tconst prev = document.getElementById(`#lightboxCarousel-${this.hash}-prev`);\r\n\t\t\t\t\tif (prev) {\r\n\t\t\t\t\t\tprev.click();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.code === \"ArrowRight\") {\r\n\t\t\t\t\tconst next = document.getElementById(`#lightboxCarousel-${this.hash}-next`);\r\n\t\t\t\t\tif (next) {\r\n\t\t\t\t\t\tnext.click();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.carousel;\r\n\t}\r\n\tfindGalleryItemIndex(haystack, needle) {\r\n\t\tlet index = 0;\r\n\t\tfor (const item of haystack) {\r\n\t\t\tif (item.includes(needle)) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\tcreateModal() {\r\n\t\tconst template = document.createElement(\"template\");\r\n\t\tconst html = `\r\n\t\t\t<div class=\"modal lightbox fade\" id=\"lightboxModal-${this.hash}\" tabindex=\"-1\" aria-hidden=\"true\">\r\n\t\t\t\t<div class=\"modal-dialog modal-dialog-centered modal-${this.settings.size}\">\r\n\t\t\t\t\t<div class=\"modal-content border-0 bg-transparent\">\r\n\t\t\t\t\t\t<div class=\"modal-body p-0\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn-close position-absolute p-3\" data-bs-dismiss=\"modal\" aria-label=\"Close\" style=\"top: -15px;right:-40px\"></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`;\r\n\t\ttemplate.innerHTML = html.trim();\r\n\t\tthis.modalElement = template.content.firstChild;\r\n\t\tthis.modalElement.querySelector(\".modal-body\").appendChild(this.carouselElement);\r\n\t\tthis.modalElement.addEventListener(\"hidden.bs.modal\", () => this.modalElement.remove());\r\n\t\tthis.modalElement.querySelector(\"[data-bs-dismiss]\").addEventListener(\"click\", () => this.modal.hide());\r\n\t\tthis.modal = new bootstrap.Modal(this.modalElement, this.modalOptions);\r\n\t\treturn this.modal;\r\n\t}\r\n\trandomHash(length = 8) {\r\n\t\treturn Array.from({ length }, () => Math.floor(Math.random() * 36).toString(36)).join(\"\");\r\n\t}\r\n}\r\nLightbox.allowedEmbedTypes = [\"embed\", \"youtube\", \"vimeo\", \"instagram\", \"url\"];\r\nLightbox.allowedMediaTypes = [...Lightbox.allowedEmbedTypes, \"image\", \"html\"];\r\nLightbox.defaultSelector = '[data-toggle=\"lightbox\"]';\r\nLightbox.initialize = function (e) {\r\n\te.preventDefault();\r\n\tconst lightbox = new Lightbox(this);\r\n\tlightbox.show();\r\n};\r\ndocument.querySelectorAll(Lightbox.defaultSelector).forEach((el) => el.addEventListener(\"click\", Lightbox.initialize));\r\nif (typeof window !== \"undefined\" && window.bootstrap) {\r\n\twindow.bootstrap.Lightbox = Lightbox;\r\n}\r\nexport default Lightbox;"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","bootstrap","Modal","Carousel","Lightbox","el","_this","options","arguments","length","undefined","_classCallCheck","this","hash","randomHash","settings","assign","Default","interval","target","gallery","size","constrain","modalOptions","setOptionsFromSettings","carouselOptions","document","querySelector","type","dataset","src","getSrc","sources","getGalleryItems","createCarousel","createModal","value","body","appendChild","modalElement","modal","show","hide","_this2","keys","reduce","p","c","_defineProperty","remote","href","test","location","origin","url","URL","footer","caption","searchParams","set","toString","galleryTarget","_this3","Array","isArray","_toConsumableArray","Set","from","querySelectorAll","concat","v","matches","match","youtubeId","getYoutubeId","arr","split","params","isEmbed","RegExp","allowedEmbedTypes","join","isImg","_this4","template","createElement","types","allowedMediaTypes","slidesHtml","map","i","replace","regex","isHtml","isForcedImage","imgClasses","URLSearchParams","e","inner","attributes","instagramEmbed","getInstagramEmbed","youtubeLink","getYoutubeLink","controlsHtml","classes","indicatorsHtml","_","index","html","innerHTML","trim","carouselElement","content","firstChild","keyboard","carousel","elSrc","to","findGalleryItemIndex","addEventListener","code","prev","getElementById","click","next","haystack","needle","_step","_iterator","_createForOfIteratorHelper","s","n","done","includes","err","f","_this5","remove","Math","floor","random","defaultSelector","initialize","preventDefault","forEach"],"sourceRoot":""}